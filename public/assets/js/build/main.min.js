var ChartJS=function(){var a=function(a){$(".table_associated").html(""),$(".ajaxMsg").hide(),$.ajax({url:BASE_URL+"/frecuency/searchAssociations",dataType:"json",data:a,type:"POST",success:function(a){"success"==a.status&&(console.log(a),a.numberRows>0?($(".table_associated").html(a.data),$("#tableProjectAssociation").DataTable({iDisplayLength:5,aLengthMenu:[[5,25,100,-1],[5,25,100,"All"]]})):$(".ajaxMsg").html("Whoops! There is no data to display!").show())}})};return{initialChartProjectRiskSetUp:function(){Highcharts.data({csv:document.getElementById("tsv").innerHTML,itemDelimiter:"	",parsed:function(a){var b={},c=[],d={},e=[];a[1]=$.map(a[1],function(a){return a.indexOf("%")===a.length-1&&(a=parseFloat(a)),a}),$.each(a[0],function(c,e){var f,g;c>0&&(e=e.split(" -")[0],g=e.match(/([0-9]+[\.0-9x]*)/),g&&(g=g[0]),f=e.replace(g,""),b[f]?b[f]+=a[1][c]:b[f]=a[1][c],null!==g&&(d[f]||(d[f]=[]),d[f].push(["v"+g,a[1][c]])))}),$.each(b,function(a,b){c.push({name:a,y:b,drilldown:d[a]?a:null})}),$.each(d,function(a,b){e.push({name:a,id:a,data:b})}),$("#container").highcharts({chart:{type:"column"},title:{text:"Browser market shares. November, 2013"},subtitle:{text:"Click the columns to view versions. Source: netmarketshare.com."},xAxis:{type:"category"},yAxis:{title:{text:"Total percent market share"}},legend:{enabled:!1},plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0,format:"{point.y:.1f}%"}}},tooltip:{headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}%</b> of total<br/>'},series:[{name:"Brands",colorByPoint:!0,data:c}],drilldown:{series:e}})}})},initialChartRiskMatrixSetUp:function(){var b=$("#tableProjectFrecuency").DataTable({iDisplayLength:5,aLengthMenu:[[5,25,100,-1],[5,25,100,"All"]],dom:'<"row export"><"clear">lfrtip'}),c=new $.fn.dataTable.TableTools(b,{sSwfPath:BASE_URL+"/assets/bower_components/datatables-tabletools/swf/copy_csv_xls_pdf.swf",aButtons:[{sExtends:"xls",sCharSet:"utf8",sFileName:"excelExport.xls",sButtonText:"XLS"},{sExtends:"csv",sCharSet:"utf8",sFileName:"csvExport.csv",sButtonText:"CSV"},{sExtends:"pdf",sCharSet:"utf8",sFileName:"PDF_Export.pdf",sButtonText:"PDF"}]});$(".exportNav").html(c.fnContainer()),$(".table_frencuency").on("click",".btnProjectAssociated",function(){var b=new Object;b.id=$(this).data("id"),b.type=$(this).data("type"),a(b)})}}}(),FrecuencyJS=function(){var a=function(a){$(".table_associated").html(""),$(".ajaxMsg").hide(),$.ajax({url:BASE_URL+"/frecuency/searchAssociations",dataType:"json",data:a,type:"POST",success:function(a){"success"==a.status&&(console.log(a),a.numberRows>0?($(".table_associated").html(a.data),$("#tableProjectAssociation").DataTable({iDisplayLength:5,aLengthMenu:[[5,25,100,-1],[5,25,100,"All"]]})):$(".ajaxMsg").html("Whoops! There is no data to display!").show())}})};return{initialRiskSetUp:function(){$("#tableRiskFrecuency").DataTable({iDisplayLength:5,aLengthMenu:[[5,25,100,-1],[5,25,100,"All"]]}),$(".filters").on("change",function(){window.location.href=BASE_URL+"/frecuency/risk/"+$("#filter_projectType").val()}),$(".table_frencuency").on("click",".btnProjectAssociated",function(){var b=new Object;b.id=$(this).data("id"),b.type=$(this).data("type"),b.project_type_id=$("#filter_projectType").val(),a(b)})},initialProjectSetUp:function(){var b=$("#tableProjectFrecuency").DataTable({iDisplayLength:5,aLengthMenu:[[5,25,100,-1],[5,25,100,"All"]],dom:'<"row export"><"clear">lfrtip'}),c=new $.fn.dataTable.TableTools(b,{sSwfPath:BASE_URL+"/assets/bower_components/datatables-tabletools/swf/copy_csv_xls_pdf.swf",aButtons:[{sExtends:"xls",sCharSet:"utf8",sFileName:"excelExport.xls",sButtonText:"XLS"},{sExtends:"csv",sCharSet:"utf8",sFileName:"csvExport.csv",sButtonText:"CSV"},{sExtends:"pdf",sCharSet:"utf8",sFileName:"PDF_Export.pdf",sButtonText:"PDF"}]});$(".exportNav").html(c.fnContainer()),$(".table_frencuency").on("click",".btnProjectAssociated",function(){var b=new Object;b.id=$(this).data("id"),b.type=$(this).data("type"),a(b)})},initialDocumentSetUp:function(){var a=$("#tableDocumentMain").DataTable({iDisplayLength:10,sPaginationType:"bs_normal",sDom:'<"row"><"clear"><"row" <"col-md-3" l><"col-md-6 selectForms"><"col-md-3" f>r>t<"row"ip>',bFilter:!0}),b=new $.fn.dataTable.TableTools(a,{sSwfPath:BASE_URL+"/assets/bower_components/datatables-tabletools/swf/copy_csv_xls_pdf.swf",aButtons:[{sExtends:"xls",sCharSet:"utf8",sFileName:"excelExport.xls",sButtonText:"XLS"},{sExtends:"csv",sCharSet:"utf8",sFileName:"csvExport.csv",sButtonText:"CSV"},{sExtends:"pdf",sCharSet:"utf8",sFileName:"PDF_Export.pdf",sButtonText:"PDF"}]});$(".exportNav").html(b.fnContainer()),$(".container").on("change","#selectRisk , #selectProject",function(){$("#tableDocumentMain").dataTable().fnFilter($(this).val())})}}}(),RiskProjectJS=function(){var a=function(a){$(".content_form").html(""),$(".ajaxMsg").hide(),$.ajax({url:BASE_URL+"/riskProject/filterFormByAjax",dataType:"json",data:a,type:"POST",success:function(a){console.log(a),"success"==a.status&&(a.numberRows>0?$(".content_form").html(a.data):$(".ajaxMsg").html("Whoops! There is no data to display!").show())}})};return{initialSetUp:function(){$(".filters").on("change",function(){$("#filter_risk_project").val("");var b=new Object;b.valRisk=$("#filter_risk").val(),b.valProject=$("#filter_project").val(),a(b)}),$("#filter_risk_project").on("keyup",function(){if($("#filter_risk").val(0),$("#filter_project").val(0),$(this).val().length>=4||0==$(this).val().length){var b=new Object;b.valSearch=$(this).val().length>=4?$(this).val():"all",a(b)}})}}}();